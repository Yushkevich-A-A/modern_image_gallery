!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.createForm()}var n,i;return n=t,(i=[{key:"createForm",value:function(){this.formContainer=document.createElement("div"),this.formContainer.classList.add("form-container"),this.form=document.createElement("form"),this.form.classList.add("form"),this.form.innerHTML='<div class="input-container name-container">\n                            <input  type="file" class="input file" id="file"> \n                          </div>\n                          <div class="wrapper-input">\n                              <span class="inner-text">\n                                Drag and Drop files here or\n                                click to select\n                              </span>\n                          </div>',this.formContainer.appendChild(this.form),document.body.appendChild(this.formContainer),this.inputName=document.querySelector(".file")}}])&&e(n.prototype,i),t}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"изображение";n(this,e),this.src=t,this.img=document.createElement("img"),this.alterText=i,this.imgGallery=document.querySelector(".gallery-container"),this.drawBlockImage()}var t,a;return t=e,(a=[{key:"drawBlockImage",value:function(){this.imageDiv=document.createElement("div"),this.imageDiv.classList.add("container-img"),this.img.src=this.src,this.img.classList.add("img"),this.img.alt=this.alterText,this.removeButton=document.createElement("button"),this.removeButton.classList.add("remove-button"),this.imageDiv.appendChild(this.img),this.imageDiv.appendChild(this.removeButton),this.imgGallery.appendChild(this.imageDiv)}}])&&i(t.prototype,a),e}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";r(this,e),this.input=document.querySelector(".file"),this.wrapper=document.querySelector(".wrapper-input"),this.type=n,this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){this.drawGalleryContainer(),this.addListeners()}},{key:"drawGalleryContainer",value:function(){this.GalleryContainer=document.createElement("div"),this.GalleryContainer.classList.add("gallery-container"),document.body.appendChild(this.GalleryContainer)}},{key:"addListeners",value:function(){var e=this;this.wrapper.addEventListener("click",(function(t){e.input.dispatchEvent(new MouseEvent("click"))})),this.wrapper.addEventListener("dragover",(function(e){e.preventDefault()})),this.wrapper.addEventListener("drop",(function(t){t.preventDefault(),e.uploadFile({target:t.dataTransfer})})),this.input.addEventListener("input",(function(t){e.uploadFile(t)})),document.addEventListener("click",(function(t){t.target.closest(".button")&&e.checkValidityURL(),t.target.closest(".remove-button")&&e.GalleryContainer.removeChild(t.target.closest(".container-img"))}))}},{key:"uploadFile",value:function(e){var t=this,n=e.target,i=(e.type,n.files&&n.files[0]);if(i){var r=new FileReader;r.addEventListener("load",(function(e){var n=e.target.result;new a(n,"картинка"),t.input.value=""})),r.readAsDataURL(i)}}}])&&o(t.prototype,n),e}())(new t)}();